{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/nbins/Documents/GitHub/SRSRSR/Template/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/nbins/Documents/GitHub/SRSRSR/Template/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\nbins\\\\Documents\\\\GitHub\\\\SRSRSR\\\\Template\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from\"react\";import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dash=function Dash(_ref){var setAuth=_ref.setAuth;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var getProfile=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,parseData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"/dashboard/\",{credentials:\"include\",method:\"GET\",headers:{jwt_token:localStorage.token}});case 3:res=_context.sent;_context.next=6;return res.json();case 6:parseData=_context.sent;setName(parseData.user_name);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(_context.t0.message);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function getProfile(){return _ref2.apply(this,arguments);};}();var logout=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();try{localStorage.removeItem(\"token\");setAuth(false);toast.success(\"Logout successfully\");}catch(err){console.error(err.message);}case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function logout(_x){return _ref3.apply(this,arguments);};}();useEffect(function(){getProfile();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mt-5\",children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome \",name]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return logout(e);},className:\"btn btn-primary\",children:\"Logout\"})]});};export default Dash;","map":{"version":3,"sources":["C:/Users/nbins/Documents/GitHub/SRSRSR/Template/src/views/loginPage/dashboard.js"],"names":["React","useEffect","useState","toast","Dash","setAuth","name","setName","getProfile","fetch","credentials","method","headers","jwt_token","localStorage","token","res","json","parseData","user_name","console","error","message","logout","e","preventDefault","removeItem","success","err"],"mappings":"6ZAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,KAAT,KAAsB,gBAAtB,C,wFAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CAC5B,cAAwBH,QAAQ,CAAC,EAAD,CAAhC,wCAAOI,IAAP,eAAaC,OAAb,eAEA,GAAMC,CAAAA,UAAU,2FAAG,2LAEGC,CAAAA,KAAK,CAAC,aAAD,CAAgB,CACrCC,WAAW,CAAE,SADwB,CAErCC,MAAM,CAAE,KAF6B,CAGrCC,OAAO,CAAE,CAAEC,SAAS,CAAEC,YAAY,CAACC,KAA1B,CAH4B,CAAhB,CAFR,QAETC,GAFS,qCAQSA,CAAAA,GAAG,CAACC,IAAJ,EART,QAQTC,SARS,eASfX,OAAO,CAACW,SAAS,CAACC,SAAX,CAAP,CATe,iFAWfC,OAAO,CAACC,KAAR,CAAc,YAAIC,OAAlB,EAXe,qEAAH,kBAAVd,CAAAA,UAAU,2CAAhB,CAeA,GAAMe,CAAAA,MAAM,2FAAG,kBAAMC,CAAN,sHACbA,CAAC,CAACC,cAAF,GACA,GAAI,CACFX,YAAY,CAACY,UAAb,CAAwB,OAAxB,EACArB,OAAO,CAAC,KAAD,CAAP,CACAF,KAAK,CAACwB,OAAN,CAAc,qBAAd,EACD,CAAC,MAAOC,GAAP,CAAY,CACZR,OAAO,CAACC,KAAR,CAAcO,GAAG,CAACN,OAAlB,EACD,CARY,wDAAH,kBAANC,CAAAA,MAAM,6CAAZ,CAWAtB,SAAS,CAAC,UAAM,CACdO,UAAU,GACX,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACE,oCACE,WAAI,SAAS,CAAC,MAAd,uBADF,cAEE,iCAAaF,IAAb,GAFF,cAGE,eAAQ,OAAO,CAAE,iBAAAkB,CAAC,QAAID,CAAAA,MAAM,CAACC,CAAD,CAAV,EAAlB,CAAiC,SAAS,CAAC,iBAA3C,oBAHF,GADF,CASD,CA1CD,CA4CA,cAAepB,CAAAA,IAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst Dash = ({ setAuth }) => {\r\n  const [name, setName] = useState(\"\");\r\n\r\n  const getProfile = async () => {\r\n    try {\r\n      const res = await fetch(\"/dashboard/\", {\r\n        credentials: \"include\",\r\n        method: \"GET\",\r\n        headers: { jwt_token: localStorage.token }\r\n      });\r\n\r\n      const parseData = await res.json();\r\n      setName(parseData.user_name);\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  const logout = async e => {\r\n    e.preventDefault();\r\n    try {\r\n      localStorage.removeItem(\"token\");\r\n      setAuth(false);\r\n      toast.success(\"Logout successfully\");\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getProfile();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h1 className=\"mt-5\">Dashboard</h1>\r\n      <h2>Welcome {name}</h2>\r\n      <button onClick={e => logout(e)} className=\"btn btn-primary\">\r\n        Logout\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dash;\r\n"]},"metadata":{},"sourceType":"module"}