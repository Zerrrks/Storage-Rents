{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/nbins/Documents/GitHub/SRSRSR/Template/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/nbins/Documents/GitHub/SRSRSR/Template/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/nbins/Documents/GitHub/SRSRSR/Template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/nbins/Documents/GitHub/SRSRSR/Template/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\nbins\\\\Documents\\\\GitHub\\\\SRSRSR\\\\Template\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{Fragment,useState}from\"react\";import{Link}from\"react-router-dom\";import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(_ref){var setAuth=_ref.setAuth;var _useState=useState({email:\"\",password:\"\",name:\"\"}),_useState2=_slicedToArray(_useState,2),inputs=_useState2[0],setInputs=_useState2[1];var email=inputs.email,password=inputs.password,name=inputs.name;var _onChange=function onChange(e){return setInputs(_objectSpread(_objectSpread({},inputs),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmitForm=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var body,response,parseRes;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;body={email:email,password:password,name:name};_context.next=5;return fetch(\"/auth/register\",{credentials:\"include\",method:\"POST\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify(body)});case 5:response=_context.sent;_context.next=8;return response.json();case 8:parseRes=_context.sent;if(parseRes.jwtToken){localStorage.setItem(\"token\",parseRes.jwtToken);setAuth(true);toast.success(\"Register Successfully\");}else{setAuth(false);toast.error(parseRes);}_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);console.error(_context.t0.message);case 15:case\"end\":return _context.stop();}}},_callee,null,[[1,12]]);}));return function onSubmitForm(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mt-5 text-center\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmitForm,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",value:email,placeholder:\"email\",onChange:function onChange(e){return _onChange(e);},className:\"form-control my-3\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:password,placeholder:\"password\",onChange:function onChange(e){return _onChange(e);},className:\"form-control my-3\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:name,placeholder:\"name\",onChange:function onChange(e){return _onChange(e);},className:\"form-control my-3\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success btn-block\",children:\"Submit\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{to:\"/admin/login\",children:\"login\"})]});};export default Register;","map":{"version":3,"sources":["C:/Users/nbins/Documents/GitHub/SRSRSR/Template/src/views/loginPage/register.js"],"names":["React","Fragment","useState","Link","toast","Register","setAuth","email","password","name","inputs","setInputs","onChange","e","target","value","onSubmitForm","preventDefault","body","fetch","credentials","method","headers","JSON","stringify","response","json","parseRes","jwtToken","localStorage","setItem","success","error","console","message"],"mappings":"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","sourcesContent":["import React, { Fragment, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst Register = ({ setAuth }) => {\r\n  const [inputs, setInputs] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    name: \"\"\r\n  });\r\n\r\n  const { email, password, name } = inputs;\r\n\r\n  const onChange = e =>\r\n    setInputs({ ...inputs, [e.target.name]: e.target.value });\r\n\r\n  const onSubmitForm = async e => {\r\n    e.preventDefault();\r\n    try {\r\n      const body = { email, password, name };\r\n      const response = await fetch(\r\n        \"/auth/register\",\r\n        {\r\n          credentials: \"include\",\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-type\": \"application/json\"\r\n          },\r\n          body: JSON.stringify(body)\r\n        }\r\n      );\r\n      const parseRes = await response.json();\r\n\r\n      if (parseRes.jwtToken) {\r\n        localStorage.setItem(\"token\", parseRes.jwtToken);\r\n        setAuth(true);\r\n        toast.success(\"Register Successfully\");\r\n      } else {\r\n        setAuth(false);\r\n        toast.error(parseRes);\r\n      }\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <h1 className=\"mt-5 text-center\">Register</h1>\r\n      <form onSubmit={onSubmitForm}>\r\n        <input\r\n          type=\"text\"\r\n          name=\"email\"\r\n          value={email}\r\n          placeholder=\"email\"\r\n          onChange={e => onChange(e)}\r\n          className=\"form-control my-3\"\r\n        />\r\n        <br></br>\r\n        <br></br>\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          value={password}\r\n          placeholder=\"password\"\r\n          onChange={e => onChange(e)}\r\n          className=\"form-control my-3\"\r\n        />\r\n        <br></br>\r\n        <br></br>\r\n        <input\r\n          type=\"text\"\r\n          name=\"name\"\r\n          value={name}\r\n          placeholder=\"name\"\r\n          onChange={e => onChange(e)}\r\n          className=\"form-control my-3\"\r\n        />\r\n        <br></br>\r\n        <br></br>\r\n        <button className=\"btn btn-success btn-block\">Submit</button>\r\n      </form>\r\n      <br></br>\r\n      <Link to=\"/admin/login\">login</Link>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"]},"metadata":{},"sourceType":"module"}